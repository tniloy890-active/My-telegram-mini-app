const tg = window.Telegram.WebApp;
tg.expand();
tg.ready();

let score = 0;
const scoreDisplay = document.getElementById('score');
const tapBtn = document.getElementById('tap-btn');
const userName = document.getElementById('user-name');

// টেলিগ্রাম থেকে ইউজারের নাম নেওয়া
if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
    userName.innerText = tg.initDataUnsafe.user.first_name;
}

// ক্লিক ফাংশন
tapBtn.addEventListener('click', (e) => {
    score += 1;
    scoreDisplay.innerText = score.toLocaleString();
    
    // ভাইব্রেশন
    tg.HapticFeedback.impactOccurred('medium');

    // ফ্লোটিং টেক্সট এনিমেশন (+1)
    const x = e.clientX;
    const y = e.clientY;
    
    const plusOne = document.createElement('div');
    plusOne.innerText = '+1';
    plusOne.style.position = 'absolute';
    plusOne.style.left = `${x}px`;
    plusOne.style.top = `${y}px`;
    plusOne.style.color = 'white';
    plusOne.style.fontWeight = 'bold';
    plusOne.style.animation = 'float 0.5s ease-out';
    document.body.appendChild(plusOne);

    setTimeout(() => plusOne.remove(), 500);
});

// CSS Animation for Floating Text
const style = document.createElement('style');
style.innerHTML = `
@keyframes float {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(-100px); opacity: 0; }
}
`;
document.head.appendChild(style);


// Rewarded interstitial

show_10377172().then(() => {
    // You need to add your user reward function here, which will be executed after the user watches the ad.
    // For more details, please refer to the detailed instructions.
    alert('You have seen an ad!');
})

        
